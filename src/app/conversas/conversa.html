<div class="layout">
  <app-menu></app-menu>
  <main class="main">
    <h2>Chats</h2>
    <div class="toolbar">
      <input [(ngModel)]="filtro" placeholder="Buscar conversas..." />
      <button class="chip" (click)="marcarTodasLidas()">Marcar todas como lidas</button>
    </div>
    <ul class="chat-list">
      @for (c of filtradas; track $index) {
        <li class="card chat-item" routerLink="/chat">
          <img [src]="c.img" alt="" class="avatar" onerror="this.onerror=null;this.src='/avatar.png'">
          <div class="txt">
            <strong>{{ c.nome }}</strong>
            <span class="muted">{{ c.resumo }}</span>
          </div>
          @if (c.nova) {
            <span class="dot"></span>
          }
          <time class="muted">{{ c.tempo }}</time>
        </li>
      }
    </ul>
  </main>
</div>
