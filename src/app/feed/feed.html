<div class="layout">
  <app-menu></app-menu>

  <main class="main feed-main-layout">
    <div class="feed-fixed">
      <!-- Stories -->
      <section class="stories">
        <button class="circle add">+</button>
        @for (s of stories; track $index) {
          <img class="circle" src="/avatar.png"
               onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'"
               alt="story">
        }
        <span class="tag">Bombando hoje</span>
      </section>

      <!-- Grid com posts √† esquerda e People √† direita -->
      <section class="grid highlight">
        <div class="posts-col">
          <!-- ü•© Post Outback -->
          <article class="post big">
            <header class="p-head">
              <img class="circle" src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="autor">
              <strong>{{ posts[0].autor }}</strong>
              <span>{{ posts[0].tag }}</span>
              <time> ‚Ä¢ {{ posts[0].tempo }}</time>
            </header>

            <div class="img-wrap">
              <img class="post-img"
                   loading="lazy"
                   [src]="posts[0].img"
                   onerror="this.onerror=null;this.src='/assets/prints/gusto.jpg'"
                   alt="post outback">
            </div>

            <footer class="p-foot">
              <button class="pill-btn" (click)="toggleLike(posts[0])">
                {{ posts[0].like ? '‚ù§ Curtido' : '‚ô° Curtir' }}
              </button>
              <button class="icon-btn" (click)="toggleComments(posts[0])">
                üí¨ {{ posts[0].comments }} coment√°rios
              </button>
              <span class="muted">{{ posts[0].likes | likes }} curtidas</span>
            </footer>

            @if (posts[0].showCommentBox) {
              <div class="comment-box">
                <input [(ngModel)]="posts[0].newComment" placeholder="Escreva um coment√°rio..." />
                <button class="pill-btn" (click)="addComment(posts[0])">Enviar</button>
              </div>
            }

            @if (posts[0].commentsList?.length) {
              <ul>
                @for (c of posts[0].commentsList; track $index) {
                  <li>{{ c }}</li>
                }
              </ul>
            }
          </article>

          <!-- üç§ Post Coco Bambu -->
          <article class="post big">
            <header class="p-head">
              <img class="circle" src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="autor">
              <strong>{{ posts[1].autor }}</strong>
              <span>{{ posts[1].tag }}</span>
              <time> ‚Ä¢ {{ posts[1].tempo }}</time>
            </header>

            <div class="img-wrap">
              <img class="post-img"
                   loading="lazy"
                   [src]="posts[1].img"
                   onerror="this.onerror=null;this.src='/assets/prints/gusto.jpg'"
                   alt="post coco bambu">
            </div>

            <footer class="p-foot">
              <button class="pill-btn" (click)="toggleLike(posts[1])">
                {{ posts[1].like ? '‚ù§ Curtido' : '‚ô° Curtir' }}
              </button>
              <button class="icon-btn" (click)="toggleComments(posts[1])">
                üí¨ {{ posts[1].comments }} coment√°rios
              </button>
              <span class="muted">{{ posts[1].likes | likes }} curtidas</span>
            </footer>

            @if (posts[1].showCommentBox) {
              <div class="comment-box">
                <input [(ngModel)]="posts[1].newComment" placeholder="Escreva um coment√°rio..." />
                <button class="pill-btn" (click)="addComment(posts[1])">Enviar</button>
              </div>
            }

            @if (posts[1].commentsList?.length) {
              <ul>
                @for (c of posts[1].commentsList; track $index) {
                  <li>{{ c }}</li>
                }
              </ul>
            }
          </article>
        </div>

        <!-- People -->
        <aside class="people">
          <h3>People</h3>
          <div class="cards">
            <div class="card">
              <img src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="Mia">
              <b>Mia</b><button>Seguir</button>
            </div>
            <div class="card">
              <img src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="Elina">
              <b>Elina</b><button>Seguir</button>
            </div>
            <div class="card">
              <img src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="John">
              <b>John</b><button>Seguir</button>
            </div>
            <div class="card">
              <img src="/avatar.png"
                   onerror="this.onerror=null;this.src='/assets/prints/avatar.svg'" alt="David">
              <b>David</b><button>Seguir</button>
            </div>
          </div>
        </aside>
      </section>
    </div>
  </main>
</div>
